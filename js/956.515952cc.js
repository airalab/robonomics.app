"use strict";(self["webpackChunkdapp_robonomics_network"]=self["webpackChunkdapp_robonomics_network"]||[]).push([[956],{31956:function(e,t,o){o.r(t),o.d(t,{default:function(){return O}});var n=o(56768);function r(e,t,o,r,s,u){const c=(0,n.g2)("robo-section"),l=(0,n.g2)("d-twin"),a=(0,n.g2)("robo-layout-section");return(0,n.uX)(),(0,n.Wv)(a,null,{default:(0,n.k6)(()=>[(0,n.bF)(c,{offset:"x2",width:"narrow",style:{"text-align":"center"}},{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.Lk)("h2",null,"Digital Twin",-1)])]),_:1}),r.isConnected?((0,n.uX)(),(0,n.Wv)(c,{key:0,offset:"x2",width:"narrow"},{default:(0,n.k6)(()=>[(0,n.bF)(l)]),_:1})):(0,n.Q3)("",!0)]),_:1})}var s=o(69134);function u(e,t,o,r,s,u){const c=(0,n.g2)("select-twin"),l=(0,n.g2)("create-twin"),a=(0,n.g2)("robo-grid"),i=(0,n.g2)("robo-section"),d=(0,n.g2)("twin-records"),f=(0,n.g2)("form-source");return(0,n.uX)(),(0,n.CE)(n.FK,null,[(0,n.bF)(i,{offset:"x05"},{default:(0,n.k6)(()=>[(0,n.bF)(a,{offset:"x0",gap:"x05",columns:"1"},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.Wv)(c,{onChange:t[0]||(t[0]=e=>r.twinId=e),key:r.keySelect})),(0,n.bF)(l,{owner:o.owner,onCreate:t[1]||(t[1]=e=>r.keySelect++)},null,8,["owner"])]),_:1})]),_:1}),r.twinId>=0?((0,n.uX)(),(0,n.Wv)(i,{key:0,offset:"x2"},{default:(0,n.k6)(()=>[(0,n.bF)(a,{offset:"x0",gap:"x05",columns:"1"},{default:(0,n.k6)(()=>[((0,n.uX)(),(0,n.Wv)(d,{id:r.twinId,key:r.keyRecords},null,8,["id"])),(0,n.bF)(f,{owner:o.owner,id:r.twinId,onCreate:t[2]||(t[2]=e=>r.keyRecords++)},null,8,["owner","id"])]),_:1})]),_:1})):(0,n.Q3)("",!0)],64)}var c=o(90144),l=o(58580);function a(e,t,o,r,s,u){const c=(0,n.g2)("robo-text"),l=(0,n.g2)("robo-input"),a=(0,n.g2)("robo-button"),i=(0,n.g2)("robo-grid"),d=(0,n.g2)("robo-section");return(0,n.uX)(),(0,n.Wv)(d,{offset:"x05"},{default:(0,n.k6)(()=>[(0,n.bF)(i,{offset:"x0",gap:"x05",columns:"1"},{default:(0,n.k6)(()=>[(0,n.bF)(c,{title:"3",offset:"x0"},{default:(0,n.k6)(()=>[...t[2]||(t[2]=[(0,n.eW)("Add source",-1)])]),_:1}),(0,n.bF)(l,{modelValue:r.topic,"onUpdate:modelValue":t[0]||(t[0]=e=>r.topic=e),label:"Topic",block:""},null,8,["modelValue"]),(0,n.bF)(l,{modelValue:r.source,"onUpdate:modelValue":t[1]||(t[1]=e=>r.source=e),label:"Source",block:""},null,8,["modelValue"]),(0,n.bF)(a,{onClick:r.setSource,block:"",disabled:r.isProccess,loading:r.isProccess,type:r.isSuccess?"ok":"primary"},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.eW)(" Save ",-1)])]),_:1},8,["onClick","disabled","loading","type"])]),_:1})]),_:1})}var i=o(58891),d=o(67441);function f(e){const t=Buffer.from(e.toString(),"utf-8");if(t.length>32)throw new Error("max 32");const o=Buffer.alloc(32),n=Buffer.concat([o,t]),r=Buffer.from(n).slice(n.length-32,n.length);return"0x"+r.toString("hex")}var k={props:["id","owner"],setup(e,{emit:t}){const o=(0,d.y3)(),{tx:n}=(0,i.qT)(),r=(0,c.KR)(),s=(0,c.KR)(),u=(0,c.KR)(!1),l=(0,c.KR)(!1);return{topic:r,source:s,isProccess:u,isSuccess:l,setSource:async()=>{if(l.value=!1,u.value=!0,await n.send(()=>o.setSource(e.id,f(r.value),s.value),{subscription:e.owner}),n.error.value)return"Cancelled"!==n.error.value?console.log(n.error.value):console.log("cancel"),u.value=!1,!1;u.value=!1,l.value=!0,t("create")}}}},p=o(71241);const v=(0,p.A)(k,[["render",a]]);var g=v,w=o(21209);const b={key:0};function y(e,t,o,r,s,u){const c=(0,n.g2)("twin-record"),l=(0,n.g2)("robo-status");return r.twin?((0,n.uX)(),(0,n.CE)("div",b,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.twin,(e,t)=>((0,n.uX)(),(0,n.Wv)(c,{key:t,token:t,address:e},null,8,["token","address"]))),128))])):((0,n.uX)(),(0,n.Wv)(l,{key:1,type:"warning"},{default:(0,n.k6)(()=>[...t[0]||(t[0]=[(0,n.eW)("No entries",-1)])]),_:1}))}var x=o(78636),C=o(24232);const m={class:"record"},_={class:"type"},h={class:"token"},S={key:0},X={key:1},F={key:2};function T(e,t,o,r,s,u){const c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",m,[(0,n.Lk)("div",_,[(0,n.Lk)("button",{class:(0,C.C4)({active:"hex"===r.type}),onClick:t[0]||(t[0]=e=>r.type="hex")}," hex ",2),(0,n.Lk)("button",{class:(0,C.C4)({active:"ipfs"===r.type}),onClick:t[1]||(t[1]=e=>r.type="ipfs")}," ipfs ",2),(0,n.Lk)("button",{class:(0,C.C4)({active:"text"===r.type}),onClick:t[2]||(t[2]=e=>r.type="text")}," text ",2)]),(0,n.Lk)("div",h,["hex"===r.type?((0,n.uX)(),(0,n.CE)("span",S,(0,C.v_)(o.token),1)):(0,n.Q3)("",!0),"ipfs"===r.type?((0,n.uX)(),(0,n.CE)("span",X,(0,C.v_)(r.tokenToCid(o.token)),1)):(0,n.Q3)("",!0),"text"===r.type?((0,n.uX)(),(0,n.CE)("span",F,(0,C.v_)(r.tokenToString(o.token)),1)):(0,n.Q3)("",!0)]),(0,n.Lk)("div",null,(0,C.v_)(o.address),1),"0x000000000000000000000000000000000000000000000000616c747275697374"===o.token?((0,n.uX)(),(0,n.Wv)(c,{key:0,to:`/altruist/${o.address}`},{default:(0,n.k6)(()=>[...t[3]||(t[3]=[(0,n.eW)(" Â» altruist ",-1)])]),_:1},8,["to"])):(0,n.Q3)("",!0)])}const W=e=>(e=e.replace(/^0x/,"").replace(/^00+/,""),e.length%2!==0&&(e="0"+e),Buffer.from(e,"hex").toString("utf8")),R=e=>(0,x.XV)(e);var K={props:["token","address"],setup(){const e=(0,c.KR)("hex");return{type:e,tokenToCid:R,tokenToString:W}}};const A=(0,p.A)(K,[["render",T],["__scopeId","data-v-79c154ae"]]);var E=A;const I=e=>(e=e.replace(/^0x/,"").replace(/^00+/,""),e.length%2!==0&&(e="0"+e),Buffer.from(e,"hex").toString("utf8")),V=e=>(0,x.XV)(e);var L={props:["id"],components:{TwinRecord:E},setup(e){const{data:t}=(0,d.Iu)((0,c.QW)(e).id);return{twin:t,tokenToCid:V,tokenToString:I}}};const Q=(0,p.A)(L,[["render",y]]);var B=Q,P={props:["owner"],components:{SelectTwin:w.A,CreateTwin:l.A,TwinRecords:B,FormSource:g},setup(){return{twinId:(0,c.KR)(),keySelect:(0,c.KR)(0),keyRecords:(0,c.KR)(0)}}};const D=(0,p.A)(P,[["render",u]]);var U=D,q={components:{DTwin:U},setup(){const{isConnected:e}=(0,s.Op)();return{isConnected:e}}};const N=(0,p.A)(q,[["render",r]]);var O=N}}]);
//# sourceMappingURL=956.515952cc.js.map