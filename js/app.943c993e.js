(function(){var e={93340:function(e,t,n){"use strict";var a=n(77162),o=n(70684),s=n(29197),r=n(98473);function i(e,t,n,a,o,s){const i=(0,r.up)("router-view"),c=(0,r.up)("main-layout");return(0,r.wg)(),(0,r.j4)(c,{pagetitle:a.title},{default:(0,r.w5)((()=>[(0,r.Wm)(i)])),_:1},8,["pagetitle"])}var c=n(64188);const l=e=>((0,r.dD)("data-v-f2bf66de"),e=e(),(0,r.Cn)(),e),u=l((()=>(0,r._)("span",null,"Hardware for Cryptopunks Control & Telemetry",-1))),d={class:"nav-devices"},p=l((()=>(0,r._)("img",{src:"images/season-pass-24-25-monkey.webp"},null,-1))),m=l((()=>(0,r._)("span",null,"Season pass",-1))),v=l((()=>(0,r._)("img",{src:"images/hardware/altruist.webp"},null,-1))),y=l((()=>(0,r._)("span",null,"Altruist Outdoor Sensor",-1))),f=l((()=>(0,r._)("img",{src:"images/hardware/risc-v.webp"},null,-1))),w=l((()=>(0,r._)("span",null,"Risc-V Smart Home",-1))),h=l((()=>(0,r._)("img",{src:"images/hardware/hikikomori.webp"},null,-1))),g=l((()=>(0,r._)("span",null,"Hikikomori",-1))),b=l((()=>(0,r._)("img",{src:"images/hardware/smart-safe.webp"},null,-1))),k=l((()=>(0,r._)("span",null,"Smart safe",-1))),_=l((()=>(0,r._)("span",null,"Robonomics Web Services Control & Telemetry",-1))),T={class:"nav-rws"};function I(e,t,n,a,o,s){const i=(0,r.up)("robo-text"),c=(0,r.up)("router-link"),l=(0,r.up)("robo-section"),I=(0,r.up)("robo-layout-header");return o.renderComponent?((0,r.wg)(),(0,r.j4)(I,{key:0,logoIcon:"images/icon_white.svg",title:n.title},{nav:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{title:"3",linemiddle:"",offset:"x05"},{default:(0,r.w5)((()=>[u])),_:1}),(0,r._)("nav",d,[(0,r._)("ul",null,[(0,r._)("li",null,[(0,r.Wm)(c,{to:"/hardware/season-pass",exact:""},{default:(0,r.w5)((()=>[p,m])),_:1})]),(0,r._)("li",null,[(0,r.Wm)(c,{to:"/hardware/altruist",exact:""},{default:(0,r.w5)((()=>[v,y])),_:1})]),(0,r._)("li",null,[(0,r.Wm)(c,{to:"/hardware/riscv",exact:""},{default:(0,r.w5)((()=>[f,w])),_:1})]),(0,r._)("li",null,[(0,r.Wm)(c,{to:"/hardware/hikikomori",exact:""},{default:(0,r.w5)((()=>[h,g])),_:1})]),(0,r._)("li",null,[(0,r.Wm)(c,{to:"/hardware/smart-safe",exact:""},{default:(0,r.w5)((()=>[b,k])),_:1})])])])])),_:1}),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{title:"3",linemiddle:"",offset:"x05"},{default:(0,r.w5)((()=>[_])),_:1}),(0,r._)("nav",T,[(0,r._)("ul",null,[(0,r._)("li",null,[(0,r.Wm)(c,{to:e.$store.state.robonomicsUIvue.rws.links.activate,exact:""},{default:(0,r.w5)((()=>[(0,r.Uk)("Your subscription")])),_:1},8,["to"])]),(0,r._)("li",null,[(0,r.Wm)(c,{to:e.$store.state.robonomicsUIvue.rws.links.setupnew,exact:""},{default:(0,r.w5)((()=>[(0,r.Uk)("New configuration")])),_:1},8,["to"])]),(0,r._)("li",null,[(0,r.Wm)(c,{to:e.$store.state.robonomicsUIvue.rws.links.setup,exact:""},{default:(0,r.w5)((()=>[(0,r.Uk)("Your configuration"),e.$store.state.robonomicsUIvue.rws.list.length>1?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)("s")],64)):(0,r.kq)("",!0)])),_:1},8,["to"])]),(0,r._)("li",null,[(0,r.Wm)(c,{to:e.$store.state.robonomicsUIvue.rws.links.devices,exact:""},{default:(0,r.w5)((()=>[(0,r.Uk)("Devices & Control")])),_:1},8,["to"])])])])])),_:1})])),_:1},8,["title"])):(0,r.kq)("",!0)}var S=n(55984),U=n.n(S);function x(e){return new(U())(e.toString())}function O(e,t){return x(e).todp(t)}function R(e,t=0,n){return x(e).div(new(U())(10).pow(t.toString())).todp(n).toString()}function A(){console.log("Build version:","master","v0.8.2","376b798")}U().set({toExpNeg:-31,toExpPos:31});var N={props:{title:{type:String,default:"Robonomics Dapp"}},inject:["RobonomicsProvider"],data(){return{renderComponent:!0}},computed:{robonomics:function(){return(0,c.IU)(this.RobonomicsProvider.instance.value)}},watch:{"$store.state.robonomicsUIvue.polkadot.extensionObj":function(e){e.signer&&e.signer.signRaw&&this.$store.state.robonomicsUIvue.polkadot.address&&this.handlerAccount(this.$store.state.robonomicsUIvue.polkadot.address)},"$store.state.robonomicsUIvue.polkadot.address":{handler:function(e){e&&this.$store.state.robonomicsUIvue.polkadot.extensionObj.signer&&this.$store.state.robonomicsUIvue.polkadot.extensionObj.signer.signRaw&&this.handlerAccount(e)},immediate:!0},"RobonomicsProvider.isReady.value":{handler:function(e,t){e&&!t&&this.handlerAccount(this.$store.state.robonomicsUIvue.polkadot.address)},immediate:!0},$route:async function(){this.renderComponent=!1,await this.$nextTick(),this.renderComponent=!0}},methods:{async handlerAccount(e){try{if(!this.RobonomicsProvider.isReady.value)return;if(this.unsubscribeBalance&&this.unsubscribeBalance(),!this.$store.state.robonomicsUIvue.polkadot.accounts)return;const t=this.$store.state.robonomicsUIvue.polkadot.accounts.find((t=>t.address===e));if(!t)return;"telemetry"!==this.$route.name&&await this.robonomics.accountManager.setSender(e,{type:t.type,extension:this.$store.state.robonomicsUIvue.polkadot.extensionObj}),this.unsubscribeBalance=await this.robonomics.account.getBalance(e,(e=>{const t=e.free.sub(e.frozen);this.$store.commit("polkadot/setBalanceXRT",O(R(t,this.robonomics.api.registry.chainDecimals[0]),4))}))}catch(t){console.error(t)}}}},C=n(25312);const E=(0,C.Z)(N,[["render",I],["__scopeId","data-v-f2bf66de"]]);var W=E,P=n(24887);const D=["data-label"];var M={__name:"Footer",setup(e){const t=[{title:"Services",links:[{title:"Sensors map",link:"https://sensors.robonomics.network"}]},{title:"Tokenomics",links:[{title:"About XRT",link:"https://robonomics.network/xrt/"},{title:"Uniswap",link:"https://app.uniswap.org/#/swap?inputCurrency=0x7de91b204c1c737bcee6f000aaa6569cf7061cb7&outputCurrency=0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2"},{title:"Basilisk",link:"https://app.basilisk.cloud/pools-and-farms"}]},{title:"Tools",links:[{title:"Substrate Portal",link:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/explorer"},{title:"Subscan",link:"https://robonomics.subscan.io/"},{title:"Polkassembly",link:"https://robonomics.polkassembly.io/"}]},{title:"Help",links:[{title:"Wiki",link:"https://wiki.robonomics.network/"},{title:"Academy",link:"https://robonomics.academy/"},{title:"Contacts",link:"https://robonomics.network/contact/"}]}];return(e,n)=>{const a=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("footer",null,[(0,r._)("nav",null,[((0,r.wg)(),(0,r.iD)(r.HY,null,(0,r.Ko)(t,(e=>(0,r._)("ul",{key:e.title,"data-label":e.title},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.links,(e=>((0,r.wg)(),(0,r.iD)("li",{key:e.title},[(0,r.Wm)(a,{to:e.link,exact:""},{default:(0,r.w5)((()=>[(0,r.Uk)((0,P.zw)(e.title),1)])),_:2},1032,["to"])])))),128))],8,D))),64))])])}}};const H=(0,C.Z)(M,[["__scopeId","data-v-348a5c2f"]]);var $=H,F={default_rpc_endpoint:"wss://polkadot.rpc.robonomics.network/",nft_oracle_endpoint:"https://nft-oracle.robonomics.network/"};const j={xrt:"0x9516AFb2b538CAbDcC04e2289E9d48eEBD8fa6ef",tokenVesting:"0xf1ba89053f407DF832b135F19fDB064C7A97E1F3",nft:"0x0c0C092f372c3Cb49D116A14fA7dcc40e84275aa"};var Y=n(44406),z=n(76833),B=n(37695);function K(){const e=(0,r.f3)("RobonomicsProvider");return{accountManager:e.accountManager,isReady:e.isReady,robonomics:e.instance,getInstance:()=>e.instance.value}}const L=(e=null)=>{const{isReady:t,getInstance:n}=K(),a=(0,c.iH)(e),o=(0,c.iH)([]),s=async e=>{const a=localStorage.getItem("rpc-parachain")||F.default_rpc_endpoint,o=`hadevices:${a}:${e}`;if(t.value)try{const t=await n().rws.getDevices(e),a=t.map((e=>e.toHuman()));return localStorage.setItem(o,JSON.stringify({time:Date.now(),value:a})),console.log("getDevices chain"),{data:a,cache:!1}}catch(s){console.log(s)}else{const e=localStorage.getItem(o);if(!e)return{data:[],cache:!0};try{const t=JSON.parse(e);return console.log("getDevices cache"),{data:t.value,cache:!0}}catch(s){console.log("hadevices bad",s)}}return{data:[],cache:!1}},i=async()=>{if(a.value)try{(0,B.Y)(a.value);const e=await s(a.value);if(o.value=e.data,e.cache){const e=(0,r.YP)(t,(async()=>{if(t.value){const t=await s(a.value);o.value=t.data,e()}}),{immediate:!0})}return}catch(e){console.log(e)}o.value=[]};return(0,r.YP)(a,(async()=>{await i()}),{immediate:!0}),(0,r.YP)(t,(async e=>{if(e){const e=await n().events.on({section:"rws",method:"NewDevices"},(async e=>{for(const t of e)t.data[0].toHuman()===a.value&&await i()}));(0,r.Ah)(e)}}),{immediate:!0}),{owner:a,devices:o,loadDevices:i}},q=()=>{const e=new Y.P,t={PalletRobonomicsRwsSubscription:{_enum:{Lifetime:{tps:"Compact<u32>"},Daily:{days:"Compact<u32>"}}},PalletRobonomicsRwsSubscriptionLedger:{freeWeight:"Compact<u64>",issueTime:"Compact<u64>",lastUpdate:"Compact<u64>",kind:{_enum:{Lifetime:{tps:"Compact<u32>"},Daily:{days:"Compact<u32>"}}}}};return e.register(t),e},J=(e=null)=>{const t=(0,c.iH)(e),n=(0,c.XI)(null),{isReady:a,getInstance:o}=K(),{devices:s,loadDevices:i}=L(t),l=()=>o().api.consts.rws.referenceCallWeight,u=async e=>{const t=localStorage.getItem("rpc-parachain")||F.default_rpc_endpoint,n=`hasubscription:${t}:${e}`;if(a.value){const t=await o().rws.getLedger(e);if(!t.isEmpty)return localStorage.setItem(n,JSON.stringify({time:Date.now(),value:t.value.toJSON()})),console.log("getLedger chain"),{data:t.value,cache:!1}}else{const e=localStorage.getItem(n);if(!e)return{data:void 0,cache:!0};try{const t=JSON.parse(e),n=(0,z.Z)(q(),"Option<PalletRobonomicsRwsSubscriptionLedger>",t.value);return console.log("getLedger cache"),{data:n.value,cache:!0}}catch(s){console.log("hasubscription bad",s)}}return{data:void 0,cache:!1}},d=864e5,p=async e=>{const t=(await u(e)).data;if(!t)return-1;const n=t.freeWeight.toNumber(),a=t.lastUpdate.toNumber(),o=t.issueTime.toNumber(),s=l(),r=Date.now();let i=(()=>{let e;if(t.kind.isLifetime)e=t.kind.value.tps.toNumber();else{const n=t.kind.value.days.toNumber(),a=n*d;e=r<o+a?1e4:0}return e})();const c=r-a;return Math.floor(n+s*i*c/1e9)},m=(0,r.Fl)((()=>{if(!n.value)return null;if(n.value.kind.isLifetime)return null;const e=n.value.issueTime.toNumber();let t=0;return n.value.kind.isDaily&&(t=n.value.kind.value.days.toNumber()),e+t*d})),v=(0,r.Fl)((()=>{if(!n.value)return 0;let e=0;return n.value.kind.isDaily&&(e=n.value.kind.value.days.toNumber()),e/30})),y=(0,r.Fl)((()=>!(!n.value||null!==m.value&&Date.now()>m.value))),f=(0,r.Fl)((()=>n.value)),w=async()=>{if(t.value)try{(0,B.Y)(t.value);const e=await u(t.value);if(n.value=e.data,e.cache){const e=(0,r.YP)(a,(async()=>{if(a.value){const a=await u(t.value);n.value=a.data,e()}}),{immediate:!0})}return}catch(e){console.log(e)}n.value=null};return(0,r.YP)(t,(async()=>{await w()}),{immediate:!0}),{owner:t,dataRaw:n,hasSubscription:f,isActive:y,countMonth:v,validUntil:m,loadLedger:w,devices:s,loadDevices:i,getFreeWeightCalc:p}};var Z=n(90299),G={__name:"Main",props:{pagetitle:{type:String}},setup(e){const t=e,n=(0,Z.oR)(),a=J();return(0,r.YP)((()=>n.state.robonomicsUIvue.rws.active),(e=>{a.owner.value=e}),{immediate:!0}),(0,r.YP)([a.owner,a.validUntil],(()=>{n.commit("rws/setExpiredate",a.validUntil)}),{immediate:!0}),(0,r.YP)(a.devices,(e=>{n.commit("rws/setUsers",e)}),{immediate:!0}),(e,n)=>{const a=(0,r.up)("robo-layout");return(0,r.wg)(),(0,r.j4)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,c.SU)(W),{title:t.pagetitle},null,8,["title"]),(0,r.WI)(e.$slots,"default"),(0,r.Wm)((0,c.SU)($))])),_:3})}}};const X=G;var V=X,Q=n(94731),ee={name:"App",components:{MainLayout:V},setup(){const e=(0,r.f3)("RobonomicsProvider"),t=(0,r.f3)("IpfsProvider"),n=(0,Z.oR)(),a=(0,Q.tv)(),o=(0,Q.yj)(),s=(0,c.iH)();return n.commit("rws/setKey","88tHsnwjp*p36AurOu28W6UZz"),n.dispatch("rws/init"),n.commit("rws/setLinkActivate",a.resolve({name:"rwsActivate"}).path),n.commit("rws/setLinkSetup",a.resolve({name:"rwsSetup"}).path),n.commit("rws/setLinkSetupnew",a.resolve({name:"rwsSetupNew"}).path),n.commit("rws/setLinkDevices",a.resolve({name:"telemetry"}).path),n.commit("ipfs/setGateways",t.gateways),(0,r.YP)(o,(()=>{s.value=o?.meta?.title;const e=s.value?`${s.value} / Robonomics Dapp`:"Robonomics Dapp";document.title=e,document.querySelector('meta[property="og:title"]').setAttribute("content",e)})),(0,r.YP)([o,e.isReady],(([e,t])=>{"telemetry"!==e.name&&t&&(n.dispatch("app/setlibp2p",{connected:!1}),n.dispatch("app/setrelay",{connected:!1}))}),{immediate:!0}),{title:s}}};const te=(0,C.Z)(ee,[["render",i]]);var ne=te,ae=(n(57658),n(65633)),oe=n(66665);class se{constructor(e){this.endpoint=e,this.authHeader=null,this.robonomics=null,this._create()}_create(){this.client=(0,oe.Ue)({...this._options()})}_options(){return{url:this.endpoint,headers:{authorization:`Basic ${this.authHeader}`,robonomics:this.robonomics}}}isAuth(){return!!this.authHeader&&!!this.robonomics}auth(e,t,n){const a=`sub-${t}:${n}`;this.authHeader=Buffer.from(a).toString("base64"),this.robonomics=e,this._create()}authClear(){this.authHeader=null,this.robonomics=null,this._create()}async ls(e){const t=[];for await(const n of this.client.ls(e))"file"===n.type&&t.push(n);return t}async cat(e){const t=async e=>{const t=new TextDecoder;let n="";for await(const a of this.client.cat(e))n+=t.decode(a,{stream:!0});return n};return await t(e)}async add(e){return await this.client.add(e)}async catViaGateway(e,t,n=5){for(let o=1;o<=n;o++)try{return(await ae.Z.get(`${e}${t}`)).data}catch(a){console.log(a)}throw new Error("File not available")}async catViaGatewaysRotation(e,t){for(const a of e)try{return{gateway:a,result:await this.catViaGateway(a,t)}}catch(n){console.log(n.message)}throw new Error("File not available")}async catViaGateways(e,t){const n=new AbortController,a=async(e,t)=>{const a=await ae.Z.get(`${e}${t}`,{signal:n.signal});return n.abort(),a.data},o=[];for(const r of e)o.push(a(r,t));try{const t=await Promise.any(o.map(((e,t)=>e.then((e=>[e,t])))));return{gateway:e[t[1]],result:t[0]}}catch(s){throw new Error("File not available")}}}var re={install:(e,t)=>{const n=(0,c.iH)();e.provide("IpfsProvider",{instance:n,gateways:t.gateways||[]}),n.value=new se(t.api.gateway)}},ie=(n(46229),n(17330),n(62062),n(11477)),ce=n(22971),le=n(63310),ue=n(83830),de=n(5487),pe=n(95241),me=n(76220),ve=n(64560),ye=n(6627),fe=n.n(ye),we=n(677),he=n.n(we);function ge(e,t,n,a){return he().box.open(e,t,n,a)||null}function be(e,t,n,a=(0,de.F)(24)){return{nonce:a,sealed:he().box(e,a,n,t)}}function ke(e){return fe().convertSecretKey(e)}function _e(e){return fe().convertPublicKey(e)}function Te(e,t,n){const a=(0,le.Y)(e);return ge(a.slice(24,a.length),a.slice(0,24),_e((0,le.Y)(t)),ke(n))}function Ie(e,t,n,a){const{nonce:o,sealed:s}=be((0,le.Y)(e),ke(n),_e((0,le.Y)(t)),a);return(0,ue.e)(o,s)}function Se(e){const t=(0,pe.S)(e),n=(0,me.U)(t);return n}function Ue(e){return{pair:e,address:(0,ve.m)(e.publicKey,32),encodeAddress:(t=32)=>(0,ve.m)(e.publicKey,t),decryptMessage:(t,n)=>Te(t,n,e.secretKey),encryptMessage:(t,n,a)=>Ie(t,n,e.secretKey,a)}}var xe=n(49021),Oe=n(96134),Re=n(57898),Ae=n(54129);class Ne extends ce.Uk{constructor(e,t={},n=null){super(e,n),this.extension=null,e.loadAll(t),this.setReady(!0)}async beforeSetSender(e,{type:t,extension:n}){this.extension=n;try{this.keyring.getPair(e)}catch(a){this.keyring.loadInjected(e,{},t)}}async afterSetSender(){await super.afterSetSender(),this.account.meta.isInjected&&this.extension&&(this.api.setSigner(this.extension.signer),this.account.signMsg=async e=>(await this.extension.signer.signRaw({address:this.account.address,data:(0,Oe.c)((0,Re.Rl)(e)),type:"bytes"})).signature)}async addUri(e,t={},n="ed25519"){const a=this.keyring.keyring.addFromUri(e,t,n);return await this.setSender(a.address,{type:n})}async addUriPassword(e,t=void 0,n={},a="ed25519"){const{pair:o}=this.keyring.addUri(e,t,n,a);return await this.setSender(o.address,{type:a})}async addJsonPassword(e,t){const n=this.keyring.createFromJson(e);return this.keyring.addPair(n,t),await this.setSender(n.address,{type:n.type})}async addPair(e){const t=this.keyring.keyring.addFromPair(e);return await this.setSender(t.address,{type:t.type})}encryptor(e=null){if(!this.account.meta.isInjected&&"ed25519"===this.account.type){const t=this.account.toJson(e),n=(0,xe.M)(e,(0,Ae.tV)(t.encoded),t.encoding.type);return Ue(n)}}}var Ce={install:async(e,t={})=>{const n=(0,c.iH)(!1),a=(0,c.XI)(),o=new Ne(ie.ZP);e.provide("RobonomicsProvider",{isReady:n,instance:a,accountManager:o});const s=new URLSearchParams(window.location.search);let r=s.get("rpc");r||(r=localStorage.getItem("rpc-parachain")||F.default_rpc_endpoint),localStorage.setItem("rpc-parachain",r);const i={endpoint:r};a.value=await ce.l.createInstance({...i,...t}),a.value.setAccountManager(o),n.value=!0}},Ee=n(18414),We=n(4812);const Pe={PROVIDER:4,NETWORK:1,ACCOUNT:2};class De extends Error{constructor(e=null,...t){super(...t),this.code=e}}class Me{async activate(){}async getProvider(){}async getAccount(){}async getNetworkId(){}}class He extends Me{constructor(e,t){super(),this.provider=e,this.name="extension",this.account=null,this.networkId=null,this.emit=t}handleChainChanged(e){this.networkId=Number(e),this.emit("chainChanged",{networkId:this.networkId})}async getProvider(){return this.provider.on("accountsChanged",(e=>{this.handleAccountsChanged(e)})),this.provider.on("chainChanged",(e=>{this.handleChainChanged(e)})),this.provider}async getNetworkId(){return this.networkId=Number(await this.provider.request({method:"eth_chainId"})),this.networkId}handleAccountsChanged(e){e.length>0?this.account=e[0]:this.account=null,this.emit("accountsChanged",{account:this.account})}}class $e{constructor({networks:e=[]}={}){this.provider=null,this.connector=null,this.signer=null,this.networks=e,this.state=(0,c.qj)({isReady:!1,error:null,account:null,networkId:null,block:null})}async setConnector(e){"extension"===e.name?this.provider=new Ee.Q(await e.getProvider()):this.provider=new We.q(await e.getProvider()),this.connector=e,this.setSigner()}async setSigner(){if(this.connector&&"extension"===this.connector.name)try{this.signer=await this.provider.getSigner(),this.state.account=this.signer.address}catch(e){console.log(e)}}on(e,t){"chainChanged"===e&&(this.state.networkId=t.networkId),this.networks.includes(this.state.networkId)?this.state.error=null:this.state.error=new De(Pe.NETWORK,`sssPlease, switch to network id ${this.networks}`)}async setProvider(e){try{await this.setConnector(new He(e,((e,t)=>this.on(e,t))))}catch(t){console.warn(t.message)}try{this.connector&&(this.state.networkId=await this.connector.getNetworkId(),this.networks.includes(this.state.networkId)||(this.state.error=new De(Pe.NETWORK,`Please, switch to network id ${this.networks}`)))}catch(t){this.state.error=t}this.provider&&null===this.state.error&&(this.state.isReady=!0,this.provider.on("block",(async e=>{this.state.block=await this.provider.getBlock(e)})),this.state.block=await this.provider.getBlock("latest"))}}const Fe=new $e({networks:[11155111]});var je={install:async e=>{e.provide("EthereumProvider",{web3:Fe})}};const Ye=(0,r._)("img",{src:"images/season-pass-24-25.webp"},null,-1),ze=(0,r._)("b",null,"~ 2 min",-1);function Be(e,t,n,a,o,s){const i=(0,r.up)("robo-text"),c=(0,r.up)("robo-button"),l=(0,r.up)("robo-card"),u=(0,r.up)("robo-section"),d=(0,r.up)("robo-template-rws-active"),p=(0,r.up)("robo-icon"),m=(0,r.up)("robo-link"),v=(0,r.up)("robo-grid"),y=(0,r.up)("robo-details"),f=(0,r.up)("robo-grid-item"),w=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(w,{width:"middle-wide"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{offset:"x0",minColumnWidth:"200px"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{offset:"x0"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{title:"4",align:"left"},{default:(0,r.w5)((()=>[(0,r.Uk)("Season Pass")])),_:1}),Ye,(0,r.Wm)(c,{router:"/hardware/season-pass",size:"small",block:""},{default:(0,r.w5)((()=>[(0,r.Uk)(" Activate ")])),_:1})])),_:1})])),_:1}),(0,r.Wm)(u,{offset:"x0"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[a.rwsactive&&""!==a.rwsactive?((0,r.wg)(),(0,r.j4)(d,{key:0})):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Wm)(i,{title:"4",align:"left"},{default:(0,r.w5)((()=>[(0,r.Uk)("RWS subscription")])),_:1}),(0,r.Wm)(u,{offset:"x1"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{size:"small",weight:"normal-italic"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{offset:"x0",gap:"x05",columns:"1"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{borderbottom:""},{default:(0,r.w5)((()=>[(0,r.Uk)(" Price from: "),(0,r._)("b",null,"~ "+(0,P.zw)(a.price)+" XRT ",1),(0,r.Wm)(y,null,{summary:(0,r.w5)((()=>[(0,r.Wm)(p,{icon:"circle-question"})])),default:(0,r.w5)((()=>[(0,r.Wm)(v,{offset:"x0",gap:"x05"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{weight:"bold"},{default:(0,r.w5)((()=>[(0,r.Uk)("Where to buy XRT")])),_:1}),(0,r.Wm)(m,{href:"https://app.basilisk.cloud/trade"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Basilisk ")])),_:1}),(0,r.Wm)(m,{href:"https://app.solarbeam.io/exchange/swap"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Solarbeam ")])),_:1}),(0,r.Wm)(m,{href:"https://trade.kraken.com/markets/kraken/xrt/usd"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Kraken ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)(f,{borderbottom:""},{default:(0,r.w5)((()=>[(0,r.Uk)(" Activation time "),ze])),_:1}),(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Available subscriptions: "),(0,r._)("b",null,(0,P.zw)(a.freeAuctions),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)(c,{router:a.linkActivate,size:"small",block:""},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{icon:"wallet"}),(0,r.Uk)(" Buy a subscription ")])),_:1},8,["router"])],64))])),_:1})])),_:1}),(0,r.Wm)(u,{offset:"x0"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{title:"4",align:"left"},{default:(0,r.w5)((()=>[(0,r.Uk)("Open-source hardware & web3 cloud")])),_:1}),(0,r.Wm)(i,{size:"small",weight:"normal-italic"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{offset:"x0",gap:"x05",columns:"1"},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{borderbottom:""},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{icon:"check"}),(0,r.Uk)(" Secured data, only you have an access ")])),_:1}),(0,r.Wm)(f,{borderbottom:""},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{icon:"check"}),(0,r.Uk)(" Remote control without any corporate clouds ")])),_:1}),(0,r.Wm)(f,{borderbottom:""},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{icon:"check"}),(0,r.Uk)(" Brand-independent smart home, combine wanted devices ")])),_:1}),(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{icon:"check"}),(0,r.Uk)(" Update your Robonomics devices as you wish with type-c ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}var Ke=n(95496),Le={setup(){const e=(0,c.iH)(0),t=(0,c.iH)(0);let n=null;const a=(0,Z.oR)(),o=(0,r.Fl)((()=>a.state.robonomicsUIvue.rws.active)),s=(0,r.Fl)((()=>a.state.robonomicsUIvue.rws.links.activate)),{isReady:i,getInstance:l}=K();(0,r.YP)(i,(async a=>{if(a){const a=l();t.value=(await a.rws.getAuctionQueue()).length,n=await a.events.onBlock((async()=>{t.value=(await a.rws.getAuctionQueue()).length}));const o=await a.rws.getMinimalBid();e.value=o.add((0,Ke.G)(1))}}),{immediate:!0}),(0,r.Ah)((()=>{n&&n()}));const u=(0,r.Fl)((()=>i.value?R(e.value,l().api.registry.chainDecimals[0],0):0));return{rwsactive:o,linkActivate:s,freeAuctions:t,price:u}}};const qe=(0,C.Z)(Le,[["render",Be]]);var Je=qe,Ze={created:function(){window.location.href=`https://v0.dapp.robonomics.network/${this.$route.href}`}};const Ge=Ze;var Xe=Ge;function Ve(e,t,n,a,o,s){const i=(0,r.up)("robo-template-rws-buy"),c=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{price:a.price,activationtime:"2",available:a.freeAuctions,chainInfoUploaded:a.chainInfoStatus,rwsExpiration:a.expiredate,onOnActivate:a.onActivate},null,8,["price","available","chainInfoUploaded","rwsExpiration","onOnActivate"])])),_:1})}const Qe=()=>{const e=(0,c.iH)(null),{accountManager:t}=K();t.account&&(e.value=t.account.address);const n=t.onChange((t=>{e.value=t.address}));return{account:e,unsubscribe:n}},et=e=>{const t=(0,c.iH)(null),{isReady:n,getInstance:a}=K();let o;return(0,r.YP)([e,n],(async()=>{if(o&&o(),!n.value||!e.value)return;const s=a();o=await s.account.getBalance(e.value,(e=>{t.value=e.free.sub(e.frozen).toNumber()}))}),{immediate:!0}),{balance:t,unsubscribe:o}},tt=()=>{const{isReady:e,getInstance:t,accountManager:n}=K(),{getFreeWeightCalc:a}=J(),o=async(e,t)=>{if(!t){if(!n.account)throw new Error("Signer required");t=n.account.address}return e.hasPaymentInfo?(await e.paymentInfo(t)).weight.toNumber():0},s=async(e,t)=>{const n=await a(t);if(n<0)throw new Error(`Not found ledger ${t}`);const s=await o(e);if(s>n)throw new Error(`The origin account have no enough free weight to process these call. Call weight ${s}, Free weight ${n}`)},r=()=>{const e=(0,c.iH)(null),t=(0,c.iH)(null),n=(0,c.iH)(!1);return{error:t,process:n,result:e}},i=async(n,a,o=!1)=>{if(n.result.value=null,n.error.value=null,n.process.value=!0,!e.value)return n.error.value="Robonomics is not ready",void(n.process.value=!1);const r=t();try{o&&(await s(a,o),r.accountManager.useSubscription(o));const e=await r.api.rpc.system.accountNextIndex(r.accountManager.account.address);n.result.value=await r.accountManager.signAndSend(a,{nonce:e}),console.log("tx",n.result.value.block,n.result.value.tx)}catch(i){console.log(i),n.error.value=i.message}return n.process.value=!1,o&&r.accountManager.useSubscription(!1),n.result};return{createTx:r,send:i}};var nt={setup(){const e=(0,c.iH)(0),t=(0,c.iH)(0),n=(0,c.iH)(!1);let a=null;const{isReady:o,getInstance:s}=K(),{account:i,unsubscribe:l}=Qe(),{balance:u,unsubscribe:d}=et(i),p=J(i),m=L(i);(0,r.YP)(o,(async o=>{if(o){const o=s();t.value=(await o.rws.getAuctionQueue()).length,a=await o.events.onBlock((async()=>{t.value=(await o.rws.getAuctionQueue()).length}));const r=await o.rws.getMinimalBid();e.value=r.add((0,Ke.G)(1)),n.value=!0}}),{immediate:!0}),(0,r.Ah)((()=>{a&&a(),d&&d(),l()}));const v=tt(),y=async n=>{if(!o.value)return void n("error","Parachain is not ready.");if(!u.value||(0,Ke.G)(u.value).lt(e.value.add((0,Ke.G)(1e7))))return void n("error","Subscription can not be activated due to unsuffcicient XRT balance");if(t.value<=0)return void n("error","There are no available subscriptions");if(p.hasSubscription.value&&p.isActive.value)return void n("error","You have an active subscription");const a=s();let c=a.rws.bid(Number(await a.rws.getFirtsFreeAuction()),e.value);m.devices.value.includes(i.value)||(c=a.api.tx.utility.batch([c,a.rws.setDevices([...m.devices.value,i.value])]));const l=v.createTx();if(await v.send(l,c),l.error.value)return void("Cancelled"!==l.error.value?n("error",l.error.value):n("cancel"));const d=await a.events.onBlock((()=>{p.loadLedger()})),y=(0,r.m0)((()=>{p.hasSubscription.value&&p.isActive.value&&(y(),d(),n("ok"))}))},f=(0,r.Fl)((()=>o.value?R(e.value,s().api.registry.chainDecimals[0],0):0));return{freeAuctions:t,price:f,expiredate:p.validUntil,chainInfoStatus:n,onActivate:y}}};const at=(0,C.Z)(nt,[["render",Ve]]);var ot=at;function st(e,t,n,a,o,s){const i=(0,r.up)("robo-template-rws-setup"),c=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{onRwsUpdate:a.rwsUpdateActions,onUserDelete:a.removeUser,onUserAdd:a.addUser,onSaveHapass:a.saveHapass},null,8,["onRwsUpdate","onUserDelete","onUserAdd","onSaveHapass"])])),_:1})}var rt=n(26444),it={setup(){const e=(0,Z.oR)(),t=(0,r.Fl)((()=>e.state.robonomicsUIvue.rws.active)),{isReady:n,getInstance:a}=K(),o=tt(),s=L(t),{account:i}=Qe(),c=(e,t)=>{if(e.owner&&e.name&&e.controller){try{(0,ve.m)(e.owner)}catch(n){return void t("error",`Owner: ${n.message}`)}try{(0,ve.m)(e.controller)}catch(n){return void t("error",`Controller: ${n.message}`)}t("ok")}else t("error","All fields are required")},l=async(r,c)=>{if(!n.value)return void c("error","Parachain is not ready.");if(t.value&&t.value!==i.value)return void c("error","You do not have access to this action.");if(s.devices.value.includes(r))return void c("error","The address is already in the subscription.");const l=await a().rws.setDevices([...s.devices.value,r]),u=o.createTx();s.devices.value.includes(i.value)?await o.send(u,l,t.value):await o.send(u,l),u.error.value?"Cancelled"!==u.error.value?c("error",u.error.value):c("cancel"):(await s.loadDevices(),e.commit("rws/setUsers",s.devices),c("ok"))},u=async(r,c)=>{if(n.value)if(t.value&&t.value!==i.value)c("error","You do not have access to this action.");else{if(s.devices.value.includes(r)){const e=await a().rws.setDevices(s.devices.value.filter((e=>e!==r))),n=o.createTx();if(s.devices.value.includes(i.value)?await o.send(n,e,t.value):await o.send(n,e),n.error.value)return void("Cancelled"!==n.error.value?c("error",n.error.value):c("cancel"));await s.loadDevices()}e.commit("rws/setUsers",s.devices),c("ok")}else c("error","Parachain is not ready.")},d=async(r,i)=>{if(!n.value)return void i("error","Parachain is not ready.");const c=e.state.robonomicsUIvue.rws.user.account,l=a();await l.accountManager.addPair(e.state.robonomicsUIvue.rws.user.key);const u=l.accountManager.encryptor();try{(0,ve.m)(c)}catch(w){return void i("error",w.message)}const d=s.devices.value.map((e=>(0,ve.m)(e)));if(!d.includes((0,ve.m)(c)))return void i("error","User not found in subscription");const p=e.state.robonomicsUIvue.rws.list.find((e=>e.owner===t.value)),m=u.encryptMessage(r,(0,rt.m)(p.controller)),v=u.encryptMessage(r,(0,rt.m)(c)),y=await l.datalog.write(JSON.stringify({subscription:p.owner,ha:p.controller,admin:(0,Oe.c)(m),user:(0,Oe.c)(v)})),f=o.createTx();await o.send(f,y,p.owner);try{const t=e.state.robonomicsUIvue.polkadot.accounts.find((t=>t.address===e.state.robonomicsUIvue.polkadot.address));t&&await l.accountManager.setSender(t.address,{type:t.type,extension:e.state.robonomicsUIvue.polkadot.extensionObj})}catch(h){console.error(h)}f.error.value?"Cancelled"!==f.error.value?i("error",f.error.value):i("cancel"):i("ok")};return{saveHapass:d,rwsUpdateActions:c,addUser:l,removeUser:u}}};const ct=(0,C.Z)(it,[["render",st]]);var lt=ct;function ut(e,t,n,a,o,s){const i=(0,r.up)("robo-template-rws-setup"),c=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{create:"",onRwsUpdate:a.onSave},null,8,["onRwsUpdate"])])),_:1})}var dt={setup(){let e=(e,t)=>{if(e.owner&&e.name&&e.controller){try{(0,ve.m)(e.owner)}catch(n){return void t("error",`Owner: ${n.message}`)}try{(0,ve.m)(e.controller)}catch(n){return void t("error",`Controller: ${n.message}`)}t("ok")}else t("error","All fields are required")};return{onSave:e}}};const pt=(0,C.Z)(dt,[["render",ut]]);var mt=pt;function vt(e,t){const n=(0,r.up)("robo-image"),a=(0,r.up)("robo-link"),o=(0,r.up)("robo-text"),s=(0,r.up)("robo-card"),i=(0,r.up)("robo-grid"),c=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{offset:"x0",gap:"x1",galign:"start",minColumnWidth:"450px"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{router:"/telemetry"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{src:"images/services-ha.jpg"})])),_:1}),(0,r.Wm)(o,{title:"3"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{router:"/telemetry"},{default:(0,r.w5)((()=>[(0,r.Uk)("Home assistant")])),_:1})])),_:1}),(0,r.Wm)(o,{size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Integrate Robonomics into your Home assistant dashboard and get Parachain decentralized cloud service all over the word. Manipulate your smart devices bypassing corporate clouds, manage user access wherever you are. Backup your smart home data in blockchain. ")])),_:1})])),_:1}),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://sensors.robonomics.network/#/"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{src:"images/services-sensors.jpg"})])),_:1}),(0,r.Wm)(o,{title:"3"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://sensors.robonomics.network/#/"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Sensors Map ")])),_:1})])),_:1}),(0,r.Wm)(o,{size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" The decentralized opensource sensors map offers two distinct layers of decentralization at your choise: peer-to-peer connectivity for direct access to sensor data, and the federative concept for accumulating sensor data and displaying measurement history. Anyone can assemble your own sensor using components available on the free market. ")])),_:1})])),_:1}),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://dapp.spot-sdk.education"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{src:"images/services-spot.jpg"})])),_:1}),(0,r.Wm)(o,{title:"3"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://dapp.spot-sdk.education"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Boston Dynamics Spot SDK lessons ")])),_:1})])),_:1}),(0,r.Wm)(o,{size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Learn and practice with the Boston Dynamics Spot robot wherever you are. After each lesson you will receive a captured video of the robot movements and a printable PDF certificate. ")])),_:1})])),_:1}),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://telescope.merklebot.com/#/"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{src:"images/services-telescope.jpg"})])),_:1}),(0,r.Wm)(o,{title:"3"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://telescope.merklebot.com/#/"},{default:(0,r.w5)((()=>[(0,r.Uk)(" An Autonomous Telescope Minting RMRK NFT's ")])),_:1})])),_:1}),(0,r.Wm)(o,{size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Connect to an autonomous telescope in the dark night of the Atacama desert in Chile to capture an astronomical object and mint unique NFTs in a few clicks. ")])),_:1})])),_:1}),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://dapp.ipci.io/#/offsetting"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{src:"images/services-offsetting.jpg"})])),_:1}),(0,r.Wm)(o,{title:"3"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{href:"https://dapp.ipci.io/#/offsetting"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Smart Building Offsetting ")])),_:1})])),_:1}),(0,r.Wm)(o,{size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)(" Carbon footprint clearance for smart buildings based on geolocation and energy consumption information. ")])),_:1})])),_:1})])),_:1})])),_:1})}const yt={},ft=(0,C.Z)(yt,[["render",vt]]);var wt=ft;function ht(e,t,n,a,o,s){const i=(0,r.up)("Libp2p"),c=(0,r.up)("Launch");return"libp2p"===a.type?((0,r.wg)(),(0,r.j4)(i,{key:0,config:a.config,isKey:a.isKey,onConnected:a.handlerConnected,onError:a.handlerError},null,8,["config","isKey","onConnected","onError"])):((0,r.wg)(),(0,r.j4)(c,{key:1,config:a.config,isKey:a.isKey},null,8,["config","isKey"]))}function gt(e,t,n,a,o,s){const i=(0,r.up)("robo-template-devices-layout");return(0,r.wg)(),(0,r.j4)(i,{config:n.config,datalog:a.data,updateTime:a.updateTime},null,8,["config","datalog","updateTime"])}function bt(){const{account:e}=Qe(),{instance:t}=(0,r.f3)("IpfsProvider");return(0,r.YP)(e,(async()=>{t.value&&t.value.authClear()})),t.value}var kt=n(82760);const _t=e=>e.replaceAll("'",'"').replaceAll("\\","").replaceAll('""','"').replaceAll("True","true").replaceAll("False","false").replaceAll("None",'"None"'),Tt=e=>{try{return JSON.parse(e)}catch(t){console.log("error parse 1")}try{return JSON.parse(_t(e))}catch(t){console.log("error parse 2"),console.log(e)}return!1},It=async(e,t)=>{const n=await e.datalog.getLastId(t);return n.id},St=async(e,t)=>{if(console.log("getLastDatalog"),!t)return!1;const n=await It(e,t);if(null!==n&&n>=0){const a=await e.datalog.readByIndex(t,n);return{timestamp:a[0].toNumber(),cid:(0,kt.z)(a[1])}}return!1},Ut=async(e,t,n)=>{if(console.log("getConfigCid"),!t||!n&&0!==n)return!1;const a=await e.twin.getTwin(n);if(!a)return!1;const o=Object.keys(a).find((e=>a[e]===t));return!!o&&ce.P6.hexToCid(o)};var xt=n(38537),Ot=n(78434);const Rt=async(e,t,n)=>{if(!n)return!1;const a=await t.catViaGateways(e.state.robonomicsUIvue.ipfs.gateways,n);return e.commit("ipfs/setActiveGateway",a.gateway),a.result},At=async(e,t,n)=>{if(e)try{const a=(0,rt.m)(t),o=n.decryptMessage((0,Ot.G)(e[n.address]),a),s=Ue(Se((0,kt.z)(o))),r=s.decryptMessage((0,Ot.G)(e.data),a);return Tt((0,kt.z)(r))}catch(a){console.log(a.message)}return!1},Nt=async(e,t,n,a,o)=>{if(e){const s=await Rt(a,o,e);if(!s)throw console.log(`Error: ${e} not found in ipfs`),new Error(`${e} not found in ipfs`);const r=await At(s,t,n);if(r)return r;throw console.log("Error: decryptMsg"),new Error("decryptMsg")}return null},Ct=e=>{if(e.state.robonomicsUIvue.rws.active){const n=e.state.robonomicsUIvue.rws.list.find((t=>t.owner===e.state.robonomicsUIvue.rws.active));if(n)try{return{controller:n.controller,owner:n.owner}}catch(t){console.log(t)}}return!1},Et=()=>{const e=(0,c.iH)(null),t=(0,c.iH)(null),n=(0,Z.oR)();return(0,r.YP)((()=>n.state.robonomicsUIvue.rws.active),(()=>{const a=Ct(n);a&&(e.value=a.controller,t.value=a.owner)}),{immediate:!0}),{controller:e,owner:t}},Wt=(e,t,n=3e3)=>{e.dispatch("app/setStatus",{value:t,timeout:n}),console.log(t)},Pt=(e,t,n)=>{e.commit("rws/setLaunch",JSON.stringify({...t,tx:{tx_status:n}}))},Dt=()=>{const e=(0,c.iH)(null),t=(0,Z.oR)(),n=bt(),{isReady:a,getInstance:o,accountManager:s}=K(),{controller:i}=Et(),l=async e=>{const r=localStorage.getItem("rpc-parachain")||F.default_rpc_endpoint,i=`haconfig:${r}:${e}`;if(a.value){const a=o(),r=await St(a,e),c=await Nt(r.cid,e,s.encryptor(),t,n);if(c){const o=c.twin_id;Wt(t,`Twin id #${o}`),Wt(t,"Start load config");const r=await Ut(a,e,o);r||(console.log("Config not found"),console.log("controller",e),console.log("twin_id",o));const l=await Nt(r,e,s.encryptor(),t,n);return localStorage.setItem(i,JSON.stringify({time:Date.now(),value:l})),console.log("getConfig chain"),{data:l,cache:!1}}}else{const e=localStorage.getItem(i);if(!e)return{data:null,cache:!0};try{const t=JSON.parse(e);return console.log("getConfig cache"),{data:t.value,cache:!0}}catch(c){console.log("haconfig bad",c)}}return{data:null,cache:!1}},u=async()=>{if(Wt(t,"Find twin id"),!i.value||!s.account||"ed25519"!==s.account.type)return void Wt(t,"Error");let n;try{n=await l(i.value)}catch(o){return console.log(o),void Wt(t,"Error: "+o.message)}if(e.value=n.data,n.cache){const n=(0,r.YP)(a,(async()=>{if(a.value)try{const t=await l(i.value);e.value=t.data,n()}catch(o){console.log(o),Wt(t,"Error: "+o.message)}}),{immediate:!0})}null!==e.value&&Wt(t,"Config loaded")};return{config:e,load:u}},Mt=()=>{const e=(0,c.iH)(null),t=(0,c.iH)(null),n=(0,c.iH)(null),a=(0,Z.oR)(),o=bt(),{isReady:s,getInstance:i,accountManager:l}=K(),u=tt(),d=L(),{controller:p,owner:m}=Et();let v;(0,r.YP)((()=>a.state.robonomicsUIvue.rws.active),(()=>{d.owner.value=a.state.robonomicsUIvue.rws.active}),{immediate:!0});const y=async()=>{s.value&&(v=await i().datalog.on({method:"NewRecord"},(n=>{const a=n.filter((e=>e.success&&p.value&&e.data[0].toHuman()===p.value));for(const o of a)t.value=o.data[1].toNumber(),e.value=o.data[2].toHuman()})))};(0,r.YP)(e,(async()=>{try{n.value=await Nt(e.value,p.value,l.encryptor(),a,o)}catch(t){console.log(t),Wt(a,t.message)}}));const f=async()=>{if(p.value)if(s.value){const n=await St(i(),p.value);e.value=n.cid,t.value=n.timestamp,y()}else{const e=(0,r.YP)(s,(t=>{t&&(f(),e())}))}},w=()=>{v&&v()};(0,r.Ah)((()=>{console.log("unmount launch"),w()}));const h=async e=>{if(console.log(e.launch.params.entity_id,e.tx.tx_status),"pending"!==e.tx.tx_status)return;if(Wt(a,"Launch command"),console.log(`command ${JSON.stringify(e)}`),!d.devices.value.includes(l.account.address))return Wt(a,"Error: You do not have access to device management."),void Pt(a,e,"error");if(!o.isAuth()){Wt(a,"Authorization on ipfs node");try{const e=(await l.account.signMsg((0,xt.d)(l.account.address))).toString();o.auth(m.value,l.account.address,e)}catch(y){return void("Cancelled"===y.message?Pt(a,e,"declined"):(console.log(y),Pt(a,e,"error")))}Pt(a,e,"approved")}const t=l.encryptor(),n=(0,rt.m)(p.value);let r;try{const a=JSON.stringify(e.launch),s=t.encryptMessage(a,n);r=await o.add((0,Oe.c)(s))}catch(y){return Pt(a,e,"error"),void Wt(a,`Error: ${y.message}`)}if(console.log(`launch ipfs file ${r.path}`),!s.value)return Wt(a,"Error: Robonomics is not ready."),void Pt(a,e,"error");Wt(a,"Send launch");const c=i().launch.send(p.value,r.path),v=u.createTx();await u.send(v,c,m.value),v.error.value?"Cancelled"!==v.error.value?(Pt(a,e,"error"),Wt(a,`Error: ${v.error.value}`)):(Pt(a,e,"declined"),Wt(a,"Calcel")):(console.log(e),Pt(a,e,"success"),Wt(a,"Launch sended"))};return{cid:e,updateTime:t,data:n,run:f,stop:w,launch:h}};var Ht={props:{isKey:{default:!1,type:Boolean},config:{default:null,type:Object}},setup(e){const{data:t,updateTime:n,run:a,launch:o}=Mt(),s=(0,Z.oR)();return(0,r.YP)((()=>e.isKey),(e=>{e&&a()}),{immediate:!0}),(0,r.YP)((()=>s.state.robonomicsUIvue.rws.launch),(e=>{try{o(JSON.parse(e))}catch(t){console.log(t)}})),{data:t,updateTime:n}}};const $t=(0,C.Z)(Ht,[["render",gt]]);var Ft=$t;function jt(e,t,n,a,o,s){const i=(0,r.up)("robo-template-devices-layout");return(0,r.wg)(),(0,r.j4)(i,{config:n.config,datalog:a.data,updateTime:a.updateTime},null,8,["config","datalog","updateTime"])}var Yt=n(53631),zt=n(5800),Bt=n(64071),Kt=n(5492),Lt=n(82373),qt=n(10055),Jt=n(57993),Zt=n(86614),Gt=n(68816),Xt=n(4521),Vt=n(76046),Qt=n(92672);function en(){return e=>{async function t(e){return(0,Xt.z)(e,(async function(e){let t="";for await(const n of e)t+=(0,Qt.B)(n.subarray());return JSON.parse(t)}))}async function n(e,t){return(0,Xt.z)([(0,Vt.m)(JSON.stringify(t))],e.sink).finally((()=>{e.close()}))}return{async handle(n,a,o={runOnTransientConnection:!0}){await e.registrar.handle(n,(async({stream:e})=>{a(await t(e),e)}),o)},async request(e,t,n,a={runOnTransientConnection:!0}){if("open"!==e.status)return;const o=await e.newStream([t],a);return(0,Xt.z)([(0,Vt.m)(JSON.stringify(n))],o,(async function(e){let t="";for await(const a of e)t+=(0,Qt.B)(a.subarray());try{return JSON.parse(t)}catch(n){return t}}))},utils:{getRequest:t,sendResponse:n}}}}async function tn(){const e=await(0,Gt.N)({addresses:{listen:["/webrtc"]},transports:[(0,qt.E)({filter:Jt.$6}),(0,Lt.Z)(),(0,zt.f)()],streamMuxers:[(0,Kt.R)()],connectionEncryption:[(0,Yt.t)()],services:{identify:(0,Bt.y)(),ha:en()},connectionGater:{denyDialMultiaddr:()=>!1},connectionManager:{minConnections:0}});return e}function nn(e){return(0,Zt.HM)(`/dns4/libp2p-relay-1.robonomics.network/tcp/443/wss/p2p/12D3KooWEMFXXvpZUjAuj1eKR11HuzZTCQ5HmYG9MNPtsnqPSERD/p2p-circuit/p2p/${e}`)}async function an(e,t){if(t.length>0){const e=[],a=[];for(const n of t){const t=(0,Zt.HM)(n),o=t.protoNames();(o.includes("ws")||o.includes("wss"))&&(o.includes("p2p-circuit")?a.push(t):("https:"!==window.location.protocol||o.includes("wss"))&&e.push(t))}if(e.length>0)for(const t of e)try{return await un(t),t}catch(n){console.log(n)}if(a.length>0)for(const t of a)try{return await un(t),t}catch(n){console.log(n)}}try{const t=nn(e);return await un(t),t}catch(n){console.log(n)}return!1}let on=null,sn=[],rn=null;async function cn(){if(on)return on;function e(){sn=on.getConnections().map((e=>e.remoteAddr.toString())),console.log("Update Connections List",sn)}return on=await tn(),await on.start(),console.log(`Node started with id ${on.peerId.toString()}`),on.addEventListener("connection:open",(t=>{console.log("connected",t.detail.remoteAddr.toString()),e()})),on.addEventListener("connection:close",(t=>{console.log("disconected",t.detail.remoteAddr.toString()),e(),setTimeout((()=>{rn&&t.detail.remoteAddr.toString()===rn.remoteAddr.toString()&&(console.log("reconnect"),ln(rn.remoteAddr.toString()))}),1e4)})),on}async function ln(e){try{await un(e)}catch(t){console.log(t)}}async function un(e){if(console.log("connect to",e.toString()),!sn.includes(e)){const t=(0,Zt.HM)(e);rn=await on.dial(t)}return e}async function dn(){rn&&await rn.close(),rn=null}function pn(e,t="/call"){if(on&&rn)return on.services.ha.request(rn,t,e);throw new Error("error")}const mn=()=>{const e=(0,c.iH)(null),t=(0,c.iH)(null),n=(0,Z.oR)(),{accountManager:a}=K(),o=L(),{controller:s}=Et();(0,r.YP)((()=>n.state.robonomicsUIvue.rws.active),(()=>{o.owner.value=n.state.robonomicsUIvue.rws.active}),{immediate:!0}),(0,r.Ah)((()=>{dn()}));const i=async(o,r)=>{const i=await cn();try{Wt(n,`Connect to peer id ${o}`);const c=await an(o,r);if(c){Wt(n,"Connected");const o=i.getProtocols();return o.includes("/update")&&await i.unhandle("/update"),i.services.ha.handle("/update",(async(o,r)=>{const c=await At(o.data,s.value,a.encryptor());c?(e.value=c,t.value=Date.now(),await i.services.ha.utils.sendResponse(r,{result:!0})):Wt(n,"Error: decryptMsg")})),c}}catch(c){Wt(n,`Error: ${c.message}`),console.log(c)}return!1},l=async e=>{if(console.log(e.launch.params.entity_id,e.tx.tx_status),"pending"===e.tx.tx_status){if(Wt(n,"Launch command"),!o.devices.value.includes(a.account.address))return Wt(n,"Error: You do not have access to device management."),void Pt(n,e,"error");try{const t=a.encryptor(),o=(0,rt.m)(s.value),r=JSON.stringify(e.launch),i=t.encryptMessage(r,o),c=await pn({data:{sender:a.account.address,data:(0,Oe.c)(i)}});console.log("response:",c),Pt(n,e,"success")}catch(t){console.log(t),Wt(n,"Error: Check status of the HomeAssistant."),Pt(n,e,"error")}}};return{data:e,updateTime:t,run:i,launch:l}};var vn={props:{isKey:{default:!1,type:Boolean},config:{default:null,type:Object}},emits:["connected","error"],setup(e,{emit:t}){const{data:n,updateTime:a,run:o,launch:s}=mn(),i=(0,Z.oR)(),c=e.isKey&&null!==e.config,l=(0,r.YP)((()=>[e.isKey,e.config]),(([e,n])=>{e&&null!==n&&(c||"function"!==typeof l||l(),n.peer_id?(async()=>{const e=await o(n.peer_id,n.libp2p_multiaddress);if(e)if(t("connected",e),e.protoNames().includes("p2p-circuit"))console.log("relay");else{const t=`http://${e.nodeAddress().address}:8080/ipfs/`;i.state.robonomicsUIvue.ipfs.activegateway!==t&&(console.log("set local gateway",t),i.commit("ipfs/setActiveGateway",t))}else t("error",new Error("connect"))})():t("error",new Error("not found peer_id")))}),{immediate:!0,once:c});return(0,r.YP)((()=>i.state.robonomicsUIvue.rws.launch),(e=>{try{s(JSON.parse(e))}catch(t){console.log(t)}})),{data:n,updateTime:a}}};const yn=(0,C.Z)(vn,[["render",jt]]);var fn=yn,wn={components:{Libp2p:fn,Launch:Ft},setup(){const e=(0,Z.oR)(),{isReady:t,accountManager:n}=K(),{config:a,load:o}=Dt(),s=(0,c.iH)(!1),i=(0,c.iH)("libp2p");return(0,r.Ah)((async()=>{if(t.value&&s.value&&e.state.robonomicsUIvue.polkadot.address!==n.account.address)try{const t=e.state.robonomicsUIvue.polkadot.accounts.find((t=>t.address===e.state.robonomicsUIvue.polkadot.address));t&&await n.setSender(t.address,{type:t.type,extension:e.state.robonomicsUIvue.polkadot.extensionObj})}catch(a){console.error(a)}})),(0,r.YP)((()=>e.state.robonomicsUIvue.rws.user.key),(async e=>{e?(await n.addPair(e),s.value=!0,o()):console.log("NOT KEY")}),{immediate:!0}),{type:i,isKey:s,config:a,handlerConnected:t=>{e.dispatch("app/setlibp2p",{connected:!0});let n=!1;t.protoNames().includes("p2p-circuit")&&(n=!0),e.dispatch("app/setrelay",{connected:n})},handlerError:t=>{console.log(t.message),console.log("switch to parachain"),i.value="parachain",e.dispatch("app/setlibp2p",{connected:!1}),e.dispatch("app/setrelay",{connected:!1})}}}};const hn=(0,C.Z)(wn,[["render",ht]]);var gn=hn,bn={__name:"Altruist",setup(e){return(e,t)=>{const n=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(n,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Altruist ")])),_:1})}}};const kn=bn;var _n=kn,Tn={__name:"Riscv",setup(e){return(e,t)=>{const n=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(n,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Riscv ")])),_:1})}}};const In=Tn;var Sn=In,Un={__name:"Hikikomori",setup(e){return(e,t)=>{const n=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(n,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Hikikomori ")])),_:1})}}};const xn=Un;var On=xn,Rn={__name:"Smart-safe",setup(e){return(e,t)=>{const n=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(n,null,{default:(0,r.w5)((()=>[(0,r.Uk)(" Smart-safe ")])),_:1})}}};const An=Rn;var Nn=An,Cn=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[],"name":"ERC721EnumerableForbiddenBatchMint","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721IncorrectOwner","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721InsufficientApproval","type":"error"},{"inputs":[{"internalType":"address","name":"approver","type":"address"}],"name":"ERC721InvalidApprover","type":"error"},{"inputs":[{"internalType":"address","name":"operator","type":"address"}],"name":"ERC721InvalidOperator","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"ERC721InvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"receiver","type":"address"}],"name":"ERC721InvalidReceiver","type":"error"},{"inputs":[{"internalType":"address","name":"sender","type":"address"}],"name":"ERC721InvalidSender","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ERC721NonexistentToken","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"ERC721OutOfBoundsIndex","type":"error"},{"inputs":[],"name":"EnforcedPause","type":"error"},{"inputs":[],"name":"ExpectedPause","type":"error"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"OwnableInvalidOwner","type":"error"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"OwnableUnauthorizedAccount","type":"error"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"TokenActivated","type":"error"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_fromTokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"_toTokenId","type":"uint256"}],"name":"BatchMetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"MetadataUpdate","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"activate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"activatedOf","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"string","name":"uri","type":"string"}],"name":"safeMint","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"index","type":"uint256"}],"name":"tokenOfOwnerByIndex","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]'),En=n(37007);const Wn={1:{name:"Ethereum Mainnet"},2:{name:"Expanse Network"},11155111:{name:"Sepolia"}};var Pn=Wn,Dn=n(5037);const Mn=e=>((0,r.dD)("data-v-d54f8394"),e=e(),(0,r.Cn)(),e),Hn={class:"seasonpass-content"},$n={class:"seasonpass-content-inside"},Fn={key:0,class:"seasonpass-msg"},jn=["src"],Yn={key:0,class:"seasonpass-monkey","aria-hidden":"true"},zn=Mn((()=>(0,r._)("img",{src:"images/season-pass-24-25-monkey.webp","aria-hidden":"true"},null,-1))),Bn=[zn],Kn=11155111;var Ln={__name:"Season-pass",setup(e){const t=(0,Z.oR)(),n=(0,Dn.M)(),a=(0,c.qj)({providers:n.getProviders()});n.subscribe((e=>{console.log("Providers updated:",e),a.providers=e}));const o=(0,r.Fl)((()=>t.state.robonomicsUIvue.ethereum.activeAccount)),i=(0,r.Fl)((()=>a.providers.find((e=>e.info.rdns===t.state.robonomicsUIvue.ethereum.activeProviderRdns)))),l=()=>!!i?.value&&(i.value?.provider?._state?.isConnected||i.value?.provider?.isConnected),u=(0,c.iH)(null),d=(0,c.iH)([]);let p,m,v=null;const y=(0,c.iH)("START"),f=(0,c.iH)(1),w=e=>{f.value=e},h=()=>{try{v=new Ee.Q(i.value.provider)}catch(e){console.log(e)}},g=async(e=!1)=>{if(e||(y.value="",d.value=[],i.value&&l()))try{if(!e){const e=await i.value.provider.request({method:"wallet_getPermissions",params:[{eth_accounts:{}}]});if(!e||!e.some((e=>"eth_accounts"===e.parentCapability)))return void(y.value="NO_WALLET_PERMISSION");const t=await i.value.provider.request({method:"eth_requestAccounts",params:[{eth_accounts:{}}]});if(!t||t?.length<1)return void(y.value="NO_ETH_ACCOUNT");const n=await i.value.provider.request({method:"eth_chainId",params:[{eth_accounts:{}}]});if(parseInt(n)!==Kn)return void(y.value="WRONG_ETH_NETWORK");y.value="NFT_STARTED_GETTING",h(),p=await v.getSigner(),m=new En.CH(j.nft,Cn,p)}m.balanceOf(p.address).then((async t=>{e&&u.value===parseFloat(t)||(u.value=parseFloat(t),!u.value||u.value<1?y.value="NFT_NOT_FOUND":await b())})).catch((e=>{console.log(e)}))}catch(t){y.value="NFT_NOT_FOUND",console.log(t)}else y.value="NO_ETH_EXTENSION"},b=async()=>{const e=[];for(let n=0;n<u.value;n++)try{const t=await m.tokenOfOwnerByIndex(p.address,n),a=await m.tokenURI(t),o=a.split("ipfs://").pop(),s=await fetch(`https://ipfs.io/ipfs/${o}`),r=await s.json();e.push({activated:await m.activatedOf(t),tokenId:t.toString(),name:`${r.name} #${t.toString()}`,image:r.image.split("ipfs://").pop(),status:"INIT"})}catch(t){console.log(t)}d.value=e,d.value?.length>0?y.value="TOKENS_FOUND":y.value="TOKENS_NOT_FOUND"},k=async e=>{let t=0;d.value&&(t=d.value.findIndex((t=>t.tokenId===e)));try{d.value[t].status="ACTIVATION_STARTED";const n=await m.connect(p).activate(e);console.log("tx",n),await b(),d.value[t].status="ACTIVATION_ENDED"}catch(n){console.error(n),"ACTION_REJECTED"===n.code?d.value[t].status="ACTIVATION_REJECTED":d.value[t].status="ACTIVATION_NOT_SUCCESSFULL"}};return(0,r.YP)([i,o],(async()=>{u.value=null,await g()})),(0,r.bv)((async()=>{await g(),v&&v.on("block",(async()=>{await g(!0)}))})),(e,t)=>{const n=(0,r.up)("robo-text"),a=(0,r.up)("robo-loader"),o=(0,r.up)("robo-grid"),i=(0,r.up)("robo-button"),l=(0,r.up)("robo-section"),u=(0,r.up)("robo-card"),p=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{allowExpand:"",class:"seasonpass"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{title:"3",offset:"x0"},{default:(0,r.w5)((()=>[(0,r.Uk)("Your season pass 2024-2025")])),_:1}),(0,r._)("div",Hn,[(0,r._)("div",$n,["START"!==y.value?((0,r.wg)(),(0,r.iD)("div",Fn,["NO_ETH_EXTENSION"===y.value?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)("Connect or install Ethereum extension in your browser")],64)):(0,r.kq)("",!0),"WRONG_ETH_NETWORK"===y.value?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)("Please, switch to "+(0,P.zw)((0,c.SU)(Pn)[Kn].name),1)],64)):(0,r.kq)("",!0),"NO_WALLET_PERMISSION"===y.value?((0,r.wg)(),(0,r.iD)(r.HY,{key:2},[(0,r.Uk)("Please, check permissions in the connected extension")],64)):(0,r.kq)("",!0),"NO_ETH_ACCOUNT"===y.value?((0,r.wg)(),(0,r.iD)(r.HY,{key:3},[(0,r.Uk)("No Ethereum account found: check your extension")],64)):(0,r.kq)("",!0),"NFT_NOT_FOUND"===y.value||"TOKENS_NOT_FOUND"===y.value?((0,r.wg)(),(0,r.iD)(r.HY,{key:4},[(0,r.Uk)("No Season Pass NFT accosiated with this account")],64)):(0,r.kq)("",!0)])):(0,r.kq)("",!0),"NFT_STARTED_GETTING"===y.value?((0,r.wg)(),(0,r.j4)(a,{key:1,size:"3"})):(0,r.kq)("",!0),"TOKENS_FOUND"===y.value&&d.value?((0,r.wg)(),(0,r.iD)("div",{key:2,class:(0,P.C_)(["tokens","tokens-show-"+f.value])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.value,(e=>((0,r.wg)(),(0,r.iD)("div",{class:"token",key:e.tokenId},[(0,r._)("img",{src:`https://ipfs.io/ipfs/${e?.image}`},null,8,jn),(0,r.Wm)(n,{lines:"dotted",size:"small"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{type:"flex",offset:"x0",gap:"x025",galign:"start",valign:"center"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,P.zw)(e?.name),1)])),_:2},1024),(0,r.Wm)(o,{type:"flex",offset:"x0",gap:"x025",galign:"start",valign:"center"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,P.zw)(e?.tokenId),1)])),_:2},1024),(0,r.Wm)(o,{type:"flex",offset:"x0",gap:"x025",galign:"start",valign:"center"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,P.zw)(e?.status),1)])),_:2},1024),(0,r.Wm)(o,{type:"flex",offset:"x0",gap:"x025",galign:"start",valign:"center"},{default:(0,r.w5)((()=>[e.activated?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Uk)("Activated")],64)):((0,r.wg)(),(0,r.iD)(r.HY,{key:1},[(0,r.Uk)("Not activated")],64))])),_:2},1024)])),_:2},1024),(0,r.Wm)(l,{offset:"x1"},{default:(0,r.w5)((()=>[e.tokenId&&!e.activated?((0,r.wg)(),(0,r.j4)(i,{key:0,onClick:(0,s.iM)((t=>k(e.tokenId)),["prevent"]),size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)("Activate")])),_:2},1032,["onClick"])):(0,r.kq)("",!0)])),_:2},1024)])))),128))],2)):(0,r.kq)("",!0),"TOKENS_FOUND"===y.value?((0,r.wg)(),(0,r.iD)("div",{key:3,class:(0,P.C_)(["tokens-switch","tokens-switch-showed-"+f.value])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.value,((e,t)=>((0,r.wg)(),(0,r.j4)(i,{key:e.tokenId,clean:"",onClick:(0,s.iM)((e=>w(t+1)),["prevent"])},{default:(0,r.w5)((()=>[(0,r.Uk)((0,P.zw)(t+1),1)])),_:2},1032,["onClick"])))),128))],2)):(0,r.kq)("",!0)]),"TOKENS_FOUND"!==y.value?((0,r.wg)(),(0,r.iD)("div",Yn,Bn)):(0,r.kq)("",!0)])])),_:1})])),_:1})}}};const qn=(0,C.Z)(Ln,[["__scopeId","data-v-d54f8394"]]);var Jn=qn;function Zn(e,t,n,a,o,s){const i=(0,r.up)("nft-token");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,"balance: "+(0,P.zw)(a.balance)+" NFT",1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.tokens,(e=>((0,r.wg)(),(0,r.j4)(i,{key:e.tokenId,token:e,onActivate:a.loadTokens,class:"card"},null,8,["token","onActivate"])))),128))])}const Gn=(0,r._)("br",null,null,-1),Xn=["src"],Vn=(0,r._)("br",null,null,-1),Qn={key:1};function ea(e,t,n,a,o,s){const i=(0,r.up)("btn-send"),c=(0,r.up)("free-minimum");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Uk)((0,P.zw)(n.token.name),1),Gn,(0,r._)("img",{src:`https://ipfs.io/ipfs/${n.token.image}`,style:{width:"200px"}},null,8,Xn),Vn,n.token.activated?((0,r.wg)(),(0,r.iD)("span",Qn,"activated")):((0,r.wg)(),(0,r.j4)(i,{key:0,onClick:t[0]||(t[0]=e=>a.activate(e,n.token.tokenId))},{default:(0,r.w5)((()=>[(0,r.Uk)(" Activate ")])),_:1})),(0,r.Wm)(c,{token:n.token.tokenId},null,8,["token"])])}const ta=["disabled"],na={key:0,class:"error"},aa={key:1,class:"success"};function oa(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("button",{onClick:t[0]||(t[0]=(...e)=>a.send&&a.send(...e)),disabled:a.status===a.STATUS.PRE_PROCESS||a.status===a.STATUS.WAIT_TX},[(0,r.WI)(e.$slots,"default")],8,ta),a.status===a.STATUS.ERROR?((0,r.wg)(),(0,r.iD)("div",na,(0,P.zw)(a.error),1)):(0,r.kq)("",!0),a.status===a.STATUS.READY?((0,r.wg)(),(0,r.iD)("div",aa,"✓")):(0,r.kq)("",!0)],64)}const sa={NEW:1,PRE_PROCESS:2,WAIT_TX:3,READY:4,ERROR:5};var ra={emits:["click"],setup(e,{emit:t}){const n=(0,c.iH)(sa.NEW),a=(0,c.iH)(null),o=async()=>{n.value=sa.PRE_PROCESS,a.value=null,t("click",(async(e,t,o=!0)=>{n.value=sa.WAIT_TX;try{if(e){const t=await e.wait();console.log(t.hash),o&&(n.value=sa.READY)}else t&&("ACTION_REJECTED"!==t.code?(n.value=sa.ERROR,a.value=t.code||t):n.value=sa.NEW)}catch(s){n.value=sa.ERROR,a.value=s.message}}))};return{STATUS:sa,status:n,error:a,send:o}}};const ia=(0,C.Z)(ra,[["render",oa]]);var ca=ia;const la={key:0},ua={key:1},da={key:0},pa=["disabled"],ma={key:0},va={key:1};function ya(e,t,n,a,o,s){return(0,r.wg)(),(0,r.iD)("div",null,[a.received?((0,r.wg)(),(0,r.iD)("div",la,"free minimum received")):((0,r.wg)(),(0,r.iD)("div",ua,[a.address?((0,r.wg)(),(0,r.iD)("div",da,[(0,r.Uk)((0,P.zw)(a.address)+" ",1),(0,r._)("button",{onClick:t[0]||(t[0]=(...e)=>a.requestFreeMinimum&&a.requestFreeMinimum(...e)),disabled:!a.avaible||1!==a.status&&4!==a.status}," Get free minimum ",8,pa),3===a.status?((0,r.wg)(),(0,r.iD)("div",ma,"request sent")):(0,r.kq)("",!0),(0,r.Uk)(" "+(0,P.zw)(a.error),1)])):((0,r.wg)(),(0,r.iD)("div",va,"Not found parachain account"))]))])}const fa=ae.Z.create({baseURL:`${F.nft_oracle_endpoint}api`}),wa=async(e,t)=>{try{const n=await fa.post("/check",{nft:e,address:t});return n.data.result?[n.data.result,n.data.error]:[!1,n.data.error]}catch(n){return[!1,n.message]}},ha=async(e,t,n)=>{try{const a=JSON.stringify({nft:e,address:t,for:n}),o=await Fe.signer.signMessage(a),s=await fa.post("/verify",{signature:o,nft:e,address:t,for:n});return s.data.result?[s.data.result,s.data.error]:[!1,s.data.error]}catch(a){return[!1,a.message]}};var ga={props:["token"],setup(e){const t=(0,c.iH)(),n=(0,Z.oR)();(0,r.YP)((()=>n.state.robonomicsUIvue.polkadot.address),(e=>{try{t.value=n.state.robonomicsUIvue.polkadot.accounts.find((t=>t.address===e))}catch(a){console.error(a)}}),{immediate:!0});const a=(0,r.Fl)((()=>t.value?.address)),o=(0,c.iH)(),s=(0,c.iH)(!1),i=async()=>{const t=await wa(e.token,Fe.state.account);s.value=t[0],o.value=t[1]};i();const l=setInterval(i,1e4),u=(0,r.Fl)((()=>!s.value&&"Free minimum for this token has already been received"===o.value));(0,r.YP)(u,(e=>{e&&(d.value=1,clearInterval(l))}),{immediate:!0});const d=(0,c.iH)(1),p=async()=>{d.value=2;const t=await ha(e.token,Fe.state.account,a.value);t[0]?d.value=3:d.value=4,o.value=t[1]};return{address:a,received:u,avaible:s,error:o,status:d,requestFreeMinimum:p}}};const ba=(0,C.Z)(ga,[["render",ya]]);var ka=ba,_a={props:["token"],emits:["activate"],components:{BtnSend:ca,FreeMinimum:ka},setup(e,{emit:t}){const n=async(e,n)=>{const a=new En.CH(j.nft,Cn,Fe.provider);try{const o=await a.connect(Fe.signer).activate(n);await e(o),t("activate",n)}catch(o){"CALL_EXCEPTION"===o.code&&o.data?await e(null,a.interface.parseError(o.data).name):await e(null,o)}};return{activate:n}}};const Ta=(0,C.Z)(_a,[["render",ea]]);var Ia=Ta,Sa={components:{NftToken:Ia},setup(){const e=(0,c.iH)(null),t=(0,c.iH)([]),n=new En.CH(j.nft,Cn,Fe.provider);(async()=>{try{console.log("$web3.state.account",Fe.state.account),e.value=await n.balanceOf(Fe.state.account)}catch(t){console.log(t)}})(),(0,r.YP)((()=>Fe.state.block),(async()=>{try{console.log("$web3.state.account",Fe.state.account),e.value=await n.balanceOf(Fe.state.account)}catch(t){console.log(t)}}));const a=async()=>{if(!e.value)return;const a=[];for(let t=0;t<e.value;t++)try{const e=await n.tokenOfOwnerByIndex(Fe.state.account,t),o=await n.tokenURI(e),s=o.split("ipfs://").pop(),r=await ae.Z.get(`https://ipfs.io/ipfs/${s}`);a.push({activated:await n.activatedOf(e),tokenId:e.toString(),name:`${r.data.name} #${e.toString()}`,image:r.data.image.split("ipfs://").pop()})}catch(o){console.log(o)}t.value=a};return(0,r.YP)(e,a),{balance:e,tokens:t,loadTokens:a}}};const Ua=(0,C.Z)(Sa,[["render",Zn]]);var xa=Ua;const Oa=(0,r._)("hr",null,null,-1),Ra=(0,r._)("hr",null,null,-1),Aa={key:0},Na={key:1},Ca={key:1},Ea={key:2};var Wa={__name:"Season-pass-2",setup(e){const t=(0,Z.oR)(),n=[],a=e=>n.push(e.detail);return(0,r.YP)((()=>t.state.robonomicsUIvue.ethereum.activeProviderRdns),(async e=>{const t=n.findIndex((t=>t.info.rdns===e));if(t>=0)try{await Fe.setProvider(n[t].provider)}catch(a){console.log(a)}})),(0,r.YP)((()=>t.state.robonomicsUIvue.ethereum.activeAccount),(async()=>{await Fe.setSigner()})),window.addEventListener("eip6963:announceProvider",a),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),(0,r.bv)((async()=>{const e=n.findIndex((e=>e.info.rdns===t.state.robonomicsUIvue.ethereum.activeProviderRdns));if(e>=0)try{await Fe.setProvider(n[e].provider)}catch(a){console.log(a)}await Fe.setSigner()})),(e,n)=>{const a=(0,r.up)("robo-text"),o=(0,r.up)("robo-layout-section");return(0,r.wg)(),(0,r.j4)(o,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{title:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)("Season pass")])),_:1}),Oa,(0,r.Uk)(" "+(0,P.zw)((0,c.SU)(t).state.robonomicsUIvue.ethereum.activeAccount)+" ",1),Ra,(0,r.Uk)(" "+(0,P.zw)((0,c.SU)(t).state.robonomicsUIvue.ethereum.activeProviderRdns)+" ",1),(0,r._)("div",null,[(0,c.SU)(Fe).state.isReady?((0,r.wg)(),(0,r.iD)("div",Aa,[(0,c.SU)(Fe).state.account?((0,r.wg)(),(0,r.j4)(xa,{key:0})):((0,r.wg)(),(0,r.iD)("div",Na,"Not found account"))])):((0,r.wg)(),(0,r.iD)("div",Ca,"...")),(0,c.SU)(Fe).state.error?((0,r.wg)(),(0,r.iD)("div",Ea,(0,P.zw)((0,c.SU)(Fe).state.error),1)):(0,r.kq)("",!0)])])),_:1})}}};const Pa=Wa;var Da=Pa;const Ma=[{path:"/",name:"Home",component:Je,meta:{title:"Dashboard"}},{path:"/rws-buy",name:"rwsActivate",component:ot,meta:{title:"Buy a Subscription"}},{path:"/rws-setup",name:"rwsSetup",component:lt,meta:{title:"Setup a Subscription"}},{path:"/rws-setup-new",name:"rwsSetupNew",component:mt,meta:{title:"New Subscription setup"}},{path:"/telemetry",name:"telemetry",component:gn,meta:{title:"Devices control panel"}},{path:"/services",name:"services",component:wt,meta:{title:"Services"}},{path:"/hardware/altruist",name:"Altruist",component:_n,meta:{title:"Altruist"}},{path:"/hardware/riscv",name:"Riscv",component:Sn,meta:{title:"Riscv"}},{path:"/hardware/hikikomori",name:"Hikikomori",component:On,meta:{title:"Hikikomori"}},{path:"/hardware/smart-safe",name:"Smartsafe",component:Nn,meta:{title:"Smart Safe"}},{path:"/hardware/season-pass",name:"SeasonPass",component:Jn,meta:{title:"Season Pass"}},{path:"/hardware/season-pass-2",name:"SeasonPass2",component:Da,meta:{title:"Season Pass 2"}},{path:"/:pathMatch(.*)*",component:Xe}],Ha=(0,Q.p7)({history:(0,Q.r5)(),routes:Ma});var $a=Ha;const Fa=(0,Z.MT)({state:{name:"Vue"}});var ja=Fa,Ya={install:e=>{e.config.globalProperties.$filters={balance(e,t,n){return"string"===typeof e||"number"===typeof e||"bigint"===typeof e?`${R(e,t,4)} ${n}`:""}}}};window.Buffer=a.lW,A();const za=(0,s.ri)(ne);za.use($a).use(ja).use(Ya).use(Ce).use(je).use(re,{api:{gateway:"https://ipfs.url.today"},gateways:["https://ipfs.url.today/ipfs/","https://ipfs.io/ipfs/","https://gateway.pinata.cloud/ipfs/","https://aira.mypinata.cloud/ipfs/"]}).use(o.$,{store:ja}).mount("#app")},95856:function(){},46601:function(){},42480:function(){},63897:function(){},55024:function(){}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,o,s){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],s=e[u][2];for(var i=!0,c=0;c<a.length;c++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(i=!1,s<r&&(r=s));if(i){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[a,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},n.d(s,r),s}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,r=a[0],i=a[1],c=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(c)var u=c(n)}for(t&&t(a);l<r.length;l++)s=r[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(u)},a=self["webpackChunkdapp_robonomics_network"]=self["webpackChunkdapp_robonomics_network"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(93340)}));a=n.O(a)})();
//# sourceMappingURL=app.943c993e.js.map